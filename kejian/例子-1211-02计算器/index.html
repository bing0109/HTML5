<html>
	<head>
		<meta charset=utf8>
		<title>计算器</title>
		<style>
			button{
				width:80px;
			}
			input{		
				width:248px;
				text-align:right;
			}
			#ce{
				width:248px;
				text-align:center;
			}
		</style>
	</head>
	<body>
		<input type="text" id="txt"/><br/>
		<button>1</button>
		<button>2</button>
		<button>3</button>
		<br/>
		<button>4</button>
		<button>5</button>
		<button>6</button>
		</br>
		<button>7</button>
		<button>8</button>
		<button>9</button>
		</br>
		<button>0</button>
		<button>+</button>
		<button>-</button>
		</br>
		<button>*</button>
		<button>/</button>
		<button>=</button>
		<br/>
		<input type="button"  id="ce" value="ce" />
		<script>
			buttons=document.getElementsByTagName("button");
			num1=0;
			num2=0;
			op=null;
			flag=false;
			document.getElementById("ce").onclick=function(){
				flag=true;
				document.getElementById("txt").value='0';
			}
			for(let i=0;i<buttons.length;i++){
				buttons[i].onclick=function(){
					switch(i){
						case 10:flag=false;num1=num1+Number(document.getElementById("txt").value);op='+';break;
						case 11:flag=false;if(num1!=0){num1=num1-Number(document.getElementById("txt").value)}else{num1=Number(document.getElementById("txt").value)};op='-';break;
						case 12:flag=false;if(num1==0){num1=1};num1=num1*Number(document.getElementById("txt").value);op='*';break;
						case 13:flag=false;if(num1!=0){num1=num1/Number(document.getElementById("txt").value)}else{num1=Number(document.getElementById("txt").value)};op='/';break;
						case 14:
							num2=Number(document.getElementById("txt").value)
							switch(op){
								case  '+':document.getElementById("txt").value=num1+num2;break;
								case '-':document.getElementById("txt").value=num1-num2;break;
								case '*':document.getElementById("txt").value=num1*num2;break;
								case '/':document.getElementById("txt").value=num1/num2;break;
							}
							break;
						
						case 9:i=-1;
						default:
							/*这是计算器里的原来的值*/
							if (flag==true){
								s=document.getElementById("txt").value
								document.getElementById("txt").value=Number(s+(i+1));
							}else{
								document.getElementById("txt").value=Number(i+1);
								flag=true;
							}
							break;
					}
				}				
			}
		</script>
	</body>
</html>
